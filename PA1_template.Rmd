---
title: "Reproducible Research: Peer Assessment 1"
output: 
  html_document:
    keep_md: true
---


## Loading and preprocessing the data

The data set is already neatly formatted, the only processing we will do is convert the date column
into a proper `Date` object.

```{r echo=TRUE}
    if (!file.exists("activity.csv")) {
        unzip("activity.zip")
    }
    activity <- read.csv("activity.csv", colClasses = c("integer", "character", "integer"))
    activity$date <- as.Date(activity$date, "%Y-%m-%d")
```

## What is mean total number of steps taken per day?

#### Calculate the daily totals

Calculation of the daily sums is as simple as aggregating the steps by date.

```{r echo=TRUE}
    library(plyr)

    dailysteps <- aggregate(steps ~ date, data = activity, FUN = sum, na.action = na.omit)
    names(dailysteps) <- c("date", "total_steps")
```

#### Create a histogram plot of the totals

We'll use color to highlight concentration rather than overlay a density curve.

```{r echo=FALSE, fig.align="center"}
    ## This code block is hidden so that plot can appear above the code text
    ## the block below is identical but not evaluated.

    library(ggplot2)

    ggplot(dailysteps, aes(x = total_steps)) + 
        geom_histogram(binwidth = 1000, aes(fill = ..count..), color = "black") + 
        scale_fill_gradient("count", low = "red", high = "steelblue") + 
        geom_rug() + 
        ggtitle("Total Steps by Day") + 
        xlab("Total Steps") + 
        ylab("Frequency")
```

```{r echo=TRUE, eval=FALSE}
    library(ggplot2)

    ggplot(dailysteps, aes(x = total_steps)) + 
        geom_histogram(binwidth = 1000, aes(fill = ..count..), color = "black") + 
        scale_fill_gradient("count", low = "red", high = "steelblue") + 
        geom_rug() + 
        ggtitle("Total Steps by Day") + 
        xlab("Total Steps") + 
        ylab("Frequency")
```

#### Mean and median

```{r echo=TRUE}
    dailysteps.mean <- mean(dailysteps$total_steps)
    dailysteps.median <- median(dailysteps$total_steps)
```

- `r sprintf("**Mean:** %.0f", dailysteps.mean)`
- `r sprintf("**Median:** %.0f", dailysteps.median)`

## What is the average daily activity pattern?



## Imputing missing values



## Are there differences in activity patterns between weekdays and weekends?
